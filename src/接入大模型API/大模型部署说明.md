# 大模型API配置说明

## 概述
现在您的语音控制系统已经集成了大模型AI功能！这意味着您可以使用更自然、多样化的语言来控制设备，而不仅仅是固定的关键词。

## 支持的大模型服务商

### 1. OpenAI (GPT)
- **模型推荐**: `gpt-3.5-turbo` 或 `gpt-4`
- **获取API密钥**: https://platform.openai.com/api-keys
- **价格**: 按使用量付费，每次指令约0.001-0.01元

### 2. Anthropic (Claude)
- **模型推荐**: `claude-3-haiku-20240307`
- **获取API密钥**: https://console.anthropic.com/
- **价格**: 按使用量付费

### 3. 智谱AI (GLM)
- **模型推荐**: `glm-4`
- **获取API密钥**: https://open.bigmodel.cn/
- **价格**: 国内服务商，价格相对便宜
- **特别说明**: 智谱AI有两种API密钥格式：
  - **旧格式**: `id.secret` (包含点号，系统会自动生成JWT Token)
  - **新格式**: 直接的API Key (系统会直接使用Bearer认证)
- **常见问题**: 如果测试连接失败，请确认：
  1. API密钥格式是否正确
  2. 账户是否有足够余额
  3. 网络连接是否正常

### 4. 通义千问 (Qwen)
- **模型推荐**: `qwen-turbo`
- **获取API密钥**: https://dashscope.aliyun.com/
- **价格**: 阿里云服务，价格实惠

### 5. Moonshot (Kimi)
- **模型推荐**: `moonshot-v1-8k`
- **获取API密钥**: https://platform.moonshot.cn/
- **价格**: 国内新兴服务商

## 配置步骤

1. **选择服务商**: 在下拉菜单中选择您要使用的AI服务商
2. **输入API密钥**: 将您从服务商获取的API密钥粘贴到对应字段
3. **设置模型**: 输入要使用的模型名称（建议使用推荐模型）
4. **测试连接**: 点击"测试连接"按钮验证配置是否正确
5. **开始使用**: 配置成功后，系统会自动使用AI模式解析语音指令

## AI模式 vs 基础模式

###  AI智能模式（推荐）
当API配置成功后，系统将使用大模型AI来理解您的语音指令，支持：

- **自然表达**: "帮我开下灯"、"可以开一下空调吗"
- **多样化语法**: "把电视关掉"、"我想看电视"、"不用开灯了"
- **智能理解**: 能理解同义词、语气词等复杂表达
- **友好回应**: AI会生成更自然的语音回应

###  基础模式
当API未配置时，系统会降级使用WASM引擎或关键词匹配：

- **固定指令**: "开灯"、"关灯"、"开空调"等
- **严格匹配**: 必须使用预设的关键词组合
- **简单回应**: 使用预设的回应话术

## 成本控制

- 每次语音指令识别大约消耗50-200个token
- 建议选择性价比较高的模型（如智谱GLM-4、通义千问等）
- API密钥会安全保存在浏览器本地存储中

## 隐私安全

- API密钥仅保存在您的浏览器本地
- 语音指令通过HTTPS加密传输到AI服务商
- 不会记录或存储您的语音内容
- 可随时更换或删除API配置

## 故障排除

1. **连接测试失败**: 检查API密钥是否正确，网络是否正常
2. **指令无法识别**: 确认API额度是否充足，或降级到基础模式
3. **响应速度慢**: 选择响应更快的模型或服务商

## 体验

配置完成后，可以尝试说：
- "小欧小欧，帮我开下客厅的灯"
- "小欧小欧，空调可以开一下吗，有点热"
- "小欧小欧，看电视，把电视打开"
- "小欧小欧，睡觉了，把所有灯都关掉"

####使用时直接将web_0605中的index.html替换即可
